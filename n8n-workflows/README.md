# üì¶ n8n Workflow Examples

–ì–æ—Ç–æ–≤—ã–µ –ø—Ä–∏–º–µ—Ä—ã workflow –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ Bitrix24 MCP Server —Å n8n.

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø—Ä–∏–º–µ—Ä–æ–≤

1. –û—Ç–∫—Ä–æ–π—Ç–µ n8n
2. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π workflow
3. –ù–∞–∂–º–∏—Ç–µ –Ω–∞ –º–µ–Ω—é (—Ç—Ä–∏ —Ç–æ—á–∫–∏) ‚Üí Import from File
4. –í—ã–±–µ—Ä–∏—Ç–µ –Ω—É–∂–Ω—ã–π JSON —Ñ–∞–π–ª –∏–∑ —ç—Ç–æ–π –ø–∞–ø–∫–∏
5. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ credentials –∏ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã

## üìã –î–æ—Å—Ç—É–ø–Ω—ã–µ –ø—Ä–∏–º–µ—Ä—ã

### 1. `daily-sales-report.json`
**–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –µ–∂–µ–¥–Ω–µ–≤–Ω—ã–π –æ—Ç—á–µ—Ç –ø–æ –ø—Ä–æ–¥–∞–∂–∞–º**
- **–¢—Ä–∏–≥–≥–µ—Ä:** Schedule (–∫–∞–∂–¥—ã–π –¥–µ–Ω—å –≤ 9:00)
- **–§—É–Ω–∫—Ü–∏–∏:** AI –∞–Ω–∞–ª–∏–∑ –≤—á–µ—Ä–∞—à–Ω–∏—Ö —Å–¥–µ–ª–æ–∫
- **–†–µ–∑—É–ª—å—Ç–∞—Ç:** Email/Slack —Å –æ—Ç—á–µ—Ç–æ–º
- **–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã:** `bitrix24_get_deals_from_date_range`, `bitrix24_compare_user_performance`

### 2. `lead-from-webhook.json`
**–°–æ–∑–¥–∞–Ω–∏–µ –ª–∏–¥–∞ –∏–∑ –≤–µ–±-—Ñ–æ—Ä–º—ã**
- **–¢—Ä–∏–≥–≥–µ—Ä:** Webhook
- **–§—É–Ω–∫—Ü–∏–∏:** AI –æ–±–æ–≥–∞—â–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –∏ —Å–æ–∑–¥–∞–Ω–∏–µ –ª–∏–¥–∞
- **–†–µ–∑—É–ª—å—Ç–∞—Ç:** –ù–æ–≤—ã–π –ª–∏–¥ –≤ Bitrix24 + —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –º–µ–Ω–µ–¥–∂–µ—Ä—É
- **–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã:** `bitrix24_create_lead`, `bitrix24_get_all_users`

### 3. `contacts-to-sheets.json`
**–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –∫–æ–Ω—Ç–∞–∫—Ç–æ–≤ —Å Google Sheets**
- **–¢—Ä–∏–≥–≥–µ—Ä:** Schedule (–∫–∞–∂–¥—ã–π —á–∞—Å)
- **–§—É–Ω–∫—Ü–∏–∏:** –≠–∫—Å–ø–æ—Ä—Ç –∫–æ–Ω—Ç–∞–∫—Ç–æ–≤ –≤ —Ç–∞–±–ª–∏—Ü—É
- **–†–µ–∑—É–ª—å—Ç–∞—Ç:** –û–±–Ω–æ–≤–ª–µ–Ω–Ω–∞—è Google Sheets
- **–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã:** `bitrix24_list_contacts`

### 4. `ai-sales-assistant.json`
**–ß–∞—Ç-–±–æ—Ç –¥–ª—è –º–µ–Ω–µ–¥–∂–µ—Ä–æ–≤**
- **–¢—Ä–∏–≥–≥–µ—Ä:** Webhook (–æ—Ç Telegram/Slack)
- **–§—É–Ω–∫—Ü–∏–∏:** AI –ø–æ–º–æ—â–Ω–∏–∫ —Å –¥–æ—Å—Ç—É–ø–æ–º –∫ CRM
- **–†–µ–∑—É–ª—å—Ç–∞—Ç:** –û—Ç–≤–µ—Ç—ã –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã –º–µ–Ω–µ–¥–∂–µ—Ä–æ–≤
- **–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã:** –í—Å–µ –¥–æ—Å—Ç—É–ø–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã

### 5. `team-monitoring-dashboard.json`
**–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∫–æ–º–∞–Ω–¥—ã –ø—Ä–æ–¥–∞–∂**
- **–¢—Ä–∏–≥–≥–µ—Ä:** Schedule (–∫–∞–∂–¥—ã–µ 5 –º–∏–Ω—É—Ç)
- **–§—É–Ω–∫—Ü–∏–∏:** –°–±–æ—Ä –º–µ—Ç—Ä–∏–∫ –∫–æ–º–∞–Ω–¥—ã
- **–†–µ–∑—É–ª—å—Ç–∞—Ç:** –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ dashboard
- **–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã:** `bitrix24_monitor_sales_activities`, `bitrix24_get_team_dashboard`

## üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–¥ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º

–î–ª—è –≤—Å–µ—Ö –ø—Ä–∏–º–µ—Ä–æ–≤ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ:

1. **–ó–∞–ø—É—â–µ–Ω–Ω—ã–π MCP —Å–µ—Ä–≤–µ—Ä:**
   ```bash
   npm run start:http
   ```

2. **–ù–∞—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π MCP Client Tool –∏–ª–∏ HTTP Request credentials:**
   - URL: `http://localhost:3000/mcp`
   - Authentication: None (–∏–ª–∏ Bearer Token –¥–ª—è production)

3. **–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ credentials (–∑–∞–≤–∏—Å–∏—Ç –æ—Ç –ø—Ä–∏–º–µ—Ä–∞):**
   - Email Account (–¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –æ—Ç—á–µ—Ç–æ–≤)
   - Telegram/Slack API (–¥–ª—è —á–∞—Ç-–±–æ—Ç–∞)
   - Google Sheets API (–¥–ª—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏)

## üí° –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å

### –í–∞—Ä–∏–∞–Ω—Ç 1: –° MCP Client Tool (–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

```
[Trigger] ‚Üí [AI Agent —Å MCP Client Tool] ‚Üí [Output]
```

AI Agent –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤—ã–±–∏—Ä–∞–µ—Ç –∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –Ω—É–∂–Ω—ã–µ Bitrix24 –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã.

### –í–∞—Ä–∏–∞–Ω—Ç 2: –° HTTP Request

```
[Trigger] ‚Üí [HTTP Request –∫ MCP] ‚Üí [Function] ‚Üí [Output]
```

–ü—Ä—è–º—ã–µ JSON-RPC –∑–∞–ø—Ä–æ—Å—ã –∫ MCP —Å–µ—Ä–≤–µ—Ä—É –¥–ª—è —Ç–æ—á–Ω–æ–≥–æ –∫–æ–Ω—Ç—Ä–æ–ª—è.

## üìù –ü—Ä–∏–º–µ—Ä—ã –∑–∞–ø—Ä–æ—Å–æ–≤

### –ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –∫–æ–Ω—Ç–∞–∫—Ç–æ–≤

```json
{
  "jsonrpc": "2.0",
  "id": 1,
  "method": "tools/call",
  "params": {
    "name": "bitrix24_list_contacts",
    "arguments": {
      "start": 0,
      "limit": 50
    }
  }
}
```

### –°–æ–∑–¥–∞—Ç—å —Å–¥–µ–ª–∫—É

```json
{
  "jsonrpc": "2.0",
  "id": 2,
  "method": "tools/call",
  "params": {
    "name": "bitrix24_create_deal",
    "arguments": {
      "fields": {
        "TITLE": "–ù–æ–≤–∞—è —Å–¥–µ–ª–∫–∞",
        "OPPORTUNITY": "50000",
        "CURRENCY_ID": "RUB"
      }
    }
  }
}
```

### –ü–æ–ª—É—á–∏—Ç—å –∞–Ω–∞–ª–∏—Ç–∏–∫—É

```json
{
  "jsonrpc": "2.0",
  "id": 3,
  "method": "tools/call",
  "params": {
    "name": "bitrix24_get_user_performance_summary",
    "arguments": {
      "userId": "1",
      "startDate": "2024-01-01",
      "endDate": "2024-12-31"
    }
  }
}
```

## üéØ –ö–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏—è

–ö–∞–∂–¥—ã–π workflow –º–æ–∂–Ω–æ –∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–æ–¥ –≤–∞—à–∏ –Ω—É–∂–¥—ã:

1. **–ò–∑–º–µ–Ω–∏—Ç–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ** –≤ Schedule Trigger
2. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ AI –ø—Ä–æ–º–ø—Ç—ã** –¥–ª—è –≤–∞—à–µ–≥–æ use case
3. **–î–æ–±–∞–≤—å—Ç–µ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ nodes** –¥–ª—è —Å–≤–æ–µ–π –ª–æ–≥–∏–∫–∏
4. **–ö–æ–º–±–∏–Ω–∏—Ä—É–π—Ç–µ –Ω–µ—Å–∫–æ–ª—å–∫–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤** –¥–ª—è —Å–ª–æ–∂–Ω—ã—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤

## üêõ Troubleshooting

**Workflow –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç:**
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ MCP —Å–µ—Ä–≤–µ—Ä –∑–∞–ø—É—â–µ–Ω: `curl http://localhost:3000/health`
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—Å–µ credentials –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –≤ n8n

**AI –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã:**
- –°–¥–µ–ª–∞–π—Ç–µ –ø—Ä–æ–º–ø—Ç –±–æ–ª–µ–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–º
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ MCP Client Tool –ø–æ–¥–∫–ª—é—á–µ–Ω –∫ AI Agent
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ `N8N_COMMUNITY_PACKAGES_ALLOW_TOOL_USAGE=true`

**–û—à–∏–±–∫–∏ 401 –æ—Ç Bitrix24:**
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ `BITRIX24_WEBHOOK_URL` –≤ `.env`
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç `bitrix24_validate_webhook` –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã

- [–ü–æ–ª–Ω—ã–π –≥–∞–π–¥ –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ](../N8N_MCP_SETUP_GUIDE.md)
- [HTTP Streamable –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è](../docs/deployment/HTTP_STREAMABLE_GUIDE.md)
- [Quick Start](../QUICK_START_N8N.md)

## ü§ù –í–∫–ª–∞–¥

–°–æ–∑–¥–∞–ª–∏ –ø–æ–ª–µ–∑–Ω—ã–π workflow? –ü–æ–¥–µ–ª–∏—Ç–µ—Å—å –∏–º!

1. –≠–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–π—Ç–µ workflow –≤ JSON
2. –î–æ–±–∞–≤—å—Ç–µ –æ–ø–∏—Å–∞–Ω–∏–µ –≤ —ç—Ç–æ—Ç README
3. –°–æ–∑–¥–∞–π—Ç–µ Pull Request

---

–ì–æ—Ç–æ–≤–æ! –ù–∞—á–Ω–∏—Ç–µ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞—Ç—å Bitrix24 —Å —ç—Ç–∏–º–∏ –ø—Ä–∏–º–µ—Ä–∞–º–∏ üöÄ
